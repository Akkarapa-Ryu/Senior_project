[gd_scene load_steps=9 format=3 uid="uid://dhrgqvad758so"]

[ext_resource type="PackedScene" uid="uid://coukodsi5cy6m" path="res://scences/3d_model/door_1_L.tscn" id="1_6mxr4"]
[ext_resource type="Script" uid="uid://erq7mrovjiiy" path="res://scripts/door.gd" id="1_ba7xd"]
[ext_resource type="PackedScene" uid="uid://cu8cjv6ynbot2" path="res://scences/3d_model/door_1_R.tscn" id="1_ogmp8"]

[sub_resource type="Animation" id="Animation_ba7xd"]
length = 0.001
tracks/0/type = "rotation_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Door1_R")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0, 0, 0, 1)
tracks/1/type = "rotation_3d"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Door1_L")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = PackedFloat32Array(0, 1, 0, 0, 0, 1)

[sub_resource type="Animation" id="Animation_y7rbp"]
resource_name = "close_door"
tracks/0/type = "rotation_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Door1_R")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0, 1, 0, 0.8660254, 0, -0.49999997, 0.033333335, 1, 0, 0.86458766, 0, -0.50248194, 0.06666667, 1, 0, 0.86024785, 0, -0.509876, 0.1, 1, 0, 0.85292906, 0, -0.5220268, 0.13333334, 1, 0, 0.8425122, 0, -0.53867716, 0.16666667, 1, 0, 0.82884973, 0, -0.5594712, 0.2, 1, 0, 0.811783, 0, -0.58395904, 0.23333333, 1, 0, 0.79116315, 0, -0.6116051, 0.26666668, 1, 0, 0.766873, 0, -0.64179873, 0.3, 1, 0, 0.73885006, 0, -0.6738697, 0.33333334, 1, 0, 0.70710677, 0, -0.7071067, 0.36666667, 1, 0, 0.6717477, 0, -0.74077994, 0.4, 1, 0, 0.6329825, 0, -0.7741661, 0.43333334, 1, 0, 0.59113157, 0, -0.80657506, 0.46666667, 1, 0, 0.54662603, 0, -0.8373768, 0.5, 1, 0, 0.49999997, 0, -0.8660253, 0.53333336, 1, 0, 0.4518765, 0, -0.8920804, 0.56666666, 1, 0, 0.40294874, 0, -0.9152225, 0.6, 1, 0, 0.35395622, 0, -0.93526196, 0.6333333, 1, 0, 0.30566043, 0, -0.95214057, 0.6666667, 1, 0, 0.25881904, 0, -0.9659258, 0.7, 1, 0, 0.21416326, 0, -0.9767979, 0.73333335, 1, 0, 0.17237747, 0, -0.98503095, 0.76666665, 1, 0, 0.13408403, 0, -0.9909699, 0.8, 1, 0, 0.09983186, 0, -0.9950043, 0.8333333, 1, 0, 0.07009145, 0, -0.99754053, 0.8666667, 1, 0, 0.045252014, 0, -0.9989756, 0.9, 1, 0, 0.025623962, 0, -0.9996716, 0.93333334, 1, 0, 0.011441626, 0, -0.99993455, 0.96666664, 1, 0, 0.0028683452, 0, -0.9999959, 1, 1, 0, 0, 0, 1)
tracks/1/type = "rotation_3d"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Door1_L")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = PackedFloat32Array(0, 1, 0, 0.70710677, 0, 0.70710677, 0.033333335, 1, 0, 0.705584, 0, 0.70862633, 0.06666667, 1, 0, 0.70101285, 0, 0.71314865, 0.1, 1, 0, 0.6933864, 0, 0.720566, 0.13333334, 1, 0, 0.68269724, 0, 0.73070145, 0.16666667, 1, 0, 0.6689434, 0, 0.74331325, 0.2, 1, 0, 0.6521365, 0, 0.75810146, 0.23333333, 1, 0, 0.63231003, 0, 0.7747154, 0.26666668, 1, 0, 0.6095288, 0, 0.79276395, 0.3, 1, 0, 0.5838979, 0, 0.8118271, 0.33333334, 1, 0, 0.55557024, 0, 0.8314696, 0.36666667, 1, 0, 0.5247524, 0, 0.85125494, 0.4, 1, 0, 0.49170768, 0, 0.8707604, 0.43333334, 1, 0, 0.4567566, 0, 0.8895917, 0.46666667, 1, 0, 0.42027408, 0, 0.9073972, 0.5, 1, 0, 0.38268343, 0, 0.9238795, 0.53333336, 1, 0, 0.3444481, 0, 0.93880534, 0.56666666, 1, 0, 0.30606064, 0, 0.95201194, 0.6, 1, 0, 0.2680307, 0, 0.9634103, 0.6333333, 1, 0, 0.2308722, 0, 0.97298414, 0.6666667, 1, 0, 0.19509032, 0, 0.98078525, 0.7, 1, 0, 0.16117032, 0, 0.9869266, 0.73333335, 1, 0, 0.1295668, 0, 0.99157065, 0.76666665, 1, 0, 0.10069587, 0, 0.99491715, 0.8, 1, 0, 0.07492854, 0, 0.99718887, 0.8333333, 1, 0, 0.052587464, 0, 0.99861634, 0.8666667, 1, 0, 0.033944085, 0, 0.9994236, 0.9, 1, 0, 0.019218892, 0, 0.9998152, 0.93333334, 1, 0, 0.008581302, 0, 0.9999631, 0.96666664, 1, 0, 0.0021512604, 0, 0.9999977, 1, 1, 0, 0, 0, 1)

[sub_resource type="Animation" id="Animation_6mxr4"]
resource_name = "open_door"
tracks/0/type = "rotation_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Door1_R")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0.033333335, 1, 0, 0, 0, 1, 0.06666667, 1, 0, -0.0030693538, 0, 0.9999953, 0.1, 1, 0, -0.012241145, 0, 0.9999251, 0.13333334, 1, 0, -0.027405305, 0, 0.9996244, 0.16666667, 1, 0, -0.048374515, 0, 0.99882925, 0.2, 1, 0, -0.07487926, 0, 0.99719256, 0.23333333, 1, 0, -0.10656271, 0, 0.99430597, 0.26666668, 1, 0, -0.14297676, 0, 0.989726, 0.3, 1, 0, -0.183581, 0, 0.98300457, 0.33333334, 1, 0, -0.22774571, 0, 0.9737206, 0.36666667, 1, 0, -0.27476057, 0, 0.96151257, 0.4, 1, 0, -0.32384896, 0, 0.94610876, 0.43333334, 1, 0, -0.37418824, 0, 0.9273527, 0.46666667, 1, 0, -0.42493486, 0, 0.9052239, 0.5, 1, 0, -0.47525313, 0, 0.8798491, 0.53333336, 1, 0, -0.5243451, 0, 0.85150576, 0.56666666, 1, 0, -0.5714795, 0, 0.82061625, 0.6, 1, 0, -0.6160169, 0, 0.78773284, 0.6333333, 1, 0, -0.65742975, 0, 0.7535157, 0.6666667, 1, 0, -0.69531405, 0, 0.7187059, 0.7, 1, 0, -0.72939396, 0, 0.68409383, 0.73333335, 1, 0, -0.7595164, 0, 0.650488, 0.76666665, 1, 0, -0.7856395, 0, 0.6186845, 0.8, 1, 0, -0.80781287, 0, 0.589439, 0.8333333, 1, 0, -0.8261545, 0, 0.5634436, 0.8666667, 1, 0, -0.8408242, 0, 0.54130816, 0.9, 1, 0, -0.85199744, 0, 0.52354586, 0.93333334, 1, 0, -0.85983986, 0, 0.5105636, 0.96666664, 1, 0, -0.86448663, 0, 0.50265574, 1, 1, 0, 0.8660254, 0, -0.49999997)
tracks/1/type = "rotation_3d"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Door1_L")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = PackedFloat32Array(0, 1, 0, 0, 0, 1, 0.033333335, 1, 0, 0.0021512453, 0, 0.99999774, 0.06666667, 1, 0, 0.008581313, 0, 0.9999632, 0.1, 1, 0, 0.01921888, 0, 0.99981534, 0.13333334, 1, 0, 0.0339441, 0, 0.99942374, 0.16666667, 1, 0, 0.052587435, 0, 0.9986164, 0.2, 1, 0, 0.07492857, 0, 0.997189, 0.23333333, 1, 0, 0.10069585, 0, 0.9949173, 0.26666668, 1, 0, 0.12956683, 0, 0.9915707, 0.3, 1, 0, 0.16117032, 0, 0.9869266, 0.33333334, 1, 0, 0.19509032, 0, 0.98078537, 0.36666667, 1, 0, 0.2308722, 0, 0.97298414, 0.4, 1, 0, 0.26803073, 0, 0.9634104, 0.43333334, 1, 0, 0.30606067, 0, 0.95201206, 0.46666667, 1, 0, 0.34444812, 0, 0.93880546, 0.5, 1, 0, 0.3826835, 0, 0.9238796, 0.53333336, 1, 0, 0.42027408, 0, 0.9073973, 0.56666666, 1, 0, 0.4567566, 0, 0.8895917, 0.6, 1, 0, 0.4917077, 0, 0.8707604, 0.6333333, 1, 0, 0.5247524, 0, 0.85125494, 0.6666667, 1, 0, 0.55557024, 0, 0.83146966, 0.7, 1, 0, 0.5838979, 0, 0.8118271, 0.73333335, 1, 0, 0.6095288, 0, 0.7927639, 0.76666665, 1, 0, 0.63231003, 0, 0.7747155, 0.8, 1, 0, 0.65213656, 0, 0.7581015, 0.8333333, 1, 0, 0.66894346, 0, 0.7433134, 0.8666667, 1, 0, 0.68269724, 0, 0.73070145, 0.9, 1, 0, 0.6933864, 0, 0.720566, 0.93333334, 1, 0, 0.70101285, 0, 0.71314865, 0.96666664, 1, 0, 0.705584, 0, 0.70862633, 1, 1, 0, 0.70710677, 0, 0.70710677)

[sub_resource type="AnimationLibrary" id="AnimationLibrary_l5cdj"]
_data = {
&"RESET": SubResource("Animation_ba7xd"),
&"close_door": SubResource("Animation_y7rbp"),
&"open_door": SubResource("Animation_6mxr4")
}

[sub_resource type="CylinderShape3D" id="CylinderShape3D_6mxr4"]
height = 21.97998
radius = 15.825195

[node name="Door" type="Node3D"]
script = ExtResource("1_ba7xd")
open_animation = "open_door"
close_animation = "close_door"

[node name="Door1_L" parent="." instance=ExtResource("1_6mxr4")]

[node name="Door1_R" parent="." instance=ExtResource("1_ogmp8")]

[node name="DoorAnimation" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_l5cdj")
}

[node name="DetectionArea_R" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="DetectionArea_R"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 9.98999, 0)
shape = SubResource("CylinderShape3D_6mxr4")

[node name="DetectionArea_L" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -18)

[node name="CollisionShape3D" type="CollisionShape3D" parent="DetectionArea_L"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 9.98999, 0)
shape = SubResource("CylinderShape3D_6mxr4")

[node name="OpenSound" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 10, -9)

[node name="CloseSound" type="AudioStreamPlayer3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 10, -9)

[connection signal="animation_finished" from="DoorAnimation" to="." method="_on_AnimationPlayer_animation_finished"]
[connection signal="body_entered" from="DetectionArea_R" to="." method="_on_Area_body_entered"]
[connection signal="body_exited" from="DetectionArea_R" to="." method="_on_Area_body_exited"]
[connection signal="body_entered" from="DetectionArea_L" to="." method="_on_Area_body_entered"]
[connection signal="body_exited" from="DetectionArea_L" to="." method="_on_Area_body_exited"]
